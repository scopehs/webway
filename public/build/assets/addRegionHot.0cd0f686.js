import{a as C,u as S,r as f,c as p,e as x,f as R,g as a,w as r,Q as b,j as y,ai as Q,n,aF as A,h as v,E as m,aT as k}from"./app.947dfe37.js";import{C as c}from"./ClosePopup.32ce8d79.js";const T={__name:"addRegionHot",setup(F){const g=C();let l=S(),o=f(),s=f(),d=p(()=>l.getHotRegionList),u=p(()=>s.value?d.value.filter(t=>t.text.toLowerCase().indexOf(s.value)>-1):d.value),h=(t,e,i)=>{e(()=>{s.value=t.toLowerCase(),u.value.length>0&&t&&(o.value=u.value[0])})},w=async()=>{var t={region_id:o.value.value},e=o.value.text;await axios({method:"POST",url:"api/hotarea",withCredentials:!0,data:t,headers:{Accept:"application/json","Content-Type":"application/json"}}).then((o.value=null,l.hotAreaRegionShow=!1)),g.notify({type:"warning",message:e+" has heated up",icon:"fa-solid fa-temperature-full"})};return(t,e)=>(x(),R("div",null,[a(k,{class:"myRound","model-value":n(l).hotAreaRegionShow,anchor:"bottom start",self:"top middle",offset:[0,20],onHide:e[3]||(e[3]=i=>n(l).hotAreaRegionShow=!1)},{default:r(()=>[a(b,{class:"my-card"},{default:r(()=>[a(y,null,{default:r(()=>[a(Q,{ref:"dropNeb",autofocus:"",modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=i=>o.value=i),options:u.value,"input-debounce":"0","option-value":"value","option-label":"text","map-options":"","use-input":"","hide-selected":"",label:"System List",filled:"",onFilter:n(h),"fill-input":""},null,8,["modelValue","options","onFilter"])]),_:1}),a(A,{horizontal:"",align:"evenly"},{default:r(()=>[v(a(m,{flat:"",color:"red",label:"Cancel",onClick:e[1]||(e[1]=i=>n(l).hotAreaRegionShow=!n(l).hotAreaRegionShow)},null,512),[[c]]),v(a(m,{flat:"",color:"green",label:"Save",onClick:e[2]||(e[2]=i=>n(w)())},null,512),[[c]])]),_:1})]),_:1})]),_:1},8,["model-value"])]))}};export{T as default};
