import{a as k,u as Q,r as j,e as o,f as B,i as u,g as s,E as N,w as i,a2 as T,h as p,q as m,ar as c,k as f,n as v,ao as g,aj as V,aT as _,F as b}from"./app.947dfe37.js";import{C as y}from"./ClosePopup.32ce8d79.js";const $={__name:"routeDeleteButtonNoRolesIsOwner",props:{item:Object},setup(C){const a=C,r=k();let d=Q(),l=j(!1),S=async()=>{var n=a.item.name_id;await axios({method:"POST",withCredentials:!0,url:"api/sigdone/"+a.item.id,headers:{Accept:"application/json","Content-Type":"application/json"}});var e="Sig "+n+" has been removed";r.notify({type:"positive",message:e}),l.value=!1},w=async()=>{var n=a.item.name_id,e={delete:1};await axios({method:"POST",withCredentials:!0,url:"api/sigssdelete/"+a.item.id,data:e,headers:{Accept:"application/json","Content-Type":"application/json"}});var t={id:a.item.id,delete:1};a.type==1?d.updateCurrentSystemSigs(t):d.updateLastSystemSigs(t);var x="Sig "+n+" has been deleted";r.notify({type:"warning",message:x})};return(n,e)=>(o(),B(b,null,[u("div",null,[s(N,{"text-color":"negative",icon:"fa-solid fa-circle-minus",flat:"",size:"sm",padding:"none",onClick:e[0]||(e[0]=t=>l.value=!0)})]),u("div",null,[s(_,{modelValue:l.value,"onUpdate:modelValue":e[3]||(e[3]=t=>l.value=t)},{default:i(()=>[s(T,{style:{"min-width":"100px"}},{default:i(()=>[p((o(),m(g,{clickable:"",onClick:e[1]||(e[1]=t=>v(S)())},{default:i(()=>[s(c,null,{default:i(()=>[f("Gone")]),_:1})]),_:1})),[[y]]),s(V),p((o(),m(g,{clickable:"",onClick:e[2]||(e[2]=t=>v(w)())},{default:i(()=>[s(c,null,{default:i(()=>[f("Delete")]),_:1})]),_:1})),[[y]])]),_:1})]),_:1},8,["modelValue"])])],64))}};export{$ as default};
