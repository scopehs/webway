import{a as S,u as x,r as f,c as p,e as b,f as y,g as l,w as i,Q,j as g,ai as A,n,aF as k,h as v,E as m,aT as F}from"./app.947dfe37.js";import{C as c}from"./ClosePopup.32ce8d79.js";const V={__name:"addConstellationHot",setup(L){const C=S();let a=x(),o=f(),r=f(),d=p(()=>a.getHotConstellationList),u=p(()=>r.value?d.value.filter(t=>t.text.toLowerCase().indexOf(r.value)>-1):d.value),h=(t,e,s)=>{e(()=>{r.value=t.toLowerCase(),u.value.length>0&&t&&(o.value=u.value[0])})},w=async()=>{var t={constellation_id:o.value.value},e=o.value.text;await axios({method:"POST",url:"api/hotarea",withCredentials:!0,data:t,headers:{Accept:"application/json","Content-Type":"application/json"}}).then((o.value=null,a.hotAreaConstellationShow=!1)),C.notify({type:"warning",message:e+" has heated up",icon:"fa-solid fa-temperature-full"})};return(t,e)=>(b(),y("div",null,[l(F,{class:"myRound","model-value":n(a).hotAreaConstellationShow,anchor:"bottom start",self:"top middle",offset:[0,20],onHide:e[3]||(e[3]=s=>n(a).hotAreaConstellationShow=!1)},{default:i(()=>[l(Q,{class:"my-card"},{default:i(()=>[l(g,null,{default:i(()=>[l(A,{ref:"dropNeb",autofocus:"",modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=s=>o.value=s),options:u.value,"input-debounce":"0","option-value":"value","option-label":"text","map-options":"","use-input":"","hide-selected":"",label:"System List",filled:"",onFilter:n(h),"fill-input":""},null,8,["modelValue","options","onFilter"])]),_:1}),l(k,{horizontal:"",align:"evenly"},{default:i(()=>[v(l(m,{flat:"",color:"red",label:"Cancel",onClick:e[1]||(e[1]=s=>n(a).hotAreaConstellationShow=!n(a).hotAreaConstellationShow)},null,512),[[c]]),v(l(m,{flat:"",color:"green",label:"Save",onClick:e[2]||(e[2]=s=>n(w)())},null,512),[[c]])]),_:1})]),_:1})]),_:1},8,["model-value"])]))}};export{V as default};
