import{J as B,u as x,d as r,_ as i,o as E,b as T,r as c,c as R,e as V,f as D,g as l,w as t,n as o,i as n,z as _}from"./app.947dfe37.js";import{Q as m}from"./QTd.5e156fed.js";import{Q as P}from"./QTable.8d314c3a.js";const A=n("div",{class:"row full-width flex-center q-py-xs myRoundTop bg-primary"},[n("div",{class:"col-10 flex flex-center"},[n("span",{class:"text-h4"},"Broken Chains ")])],-1),O={class:"text-negative"},j={class:"row justify-end q-gutter-sm"},I={class:"col-auto"},U={__name:"BrokenChainTable",setup(L){B(e=>({"5527b031":y.value}));let s=x();const u=r(()=>i(()=>import("./index.ff6a3aa5.js"),["assets/index.ff6a3aa5.js","assets/app.947dfe37.js","assets/app.51e76855.css"])),f=r(()=>i(()=>import("./BrokenChainURL.570e7b3a.js"),["assets/BrokenChainURL.570e7b3a.js","assets/QTooltip.46988d05.js","assets/app.947dfe37.js","assets/app.51e76855.css"])),p=r(()=>i(()=>import("./BrokenChainClaim.8dbc7141.js"),["assets/BrokenChainClaim.8dbc7141.js","assets/app.947dfe37.js","assets/app.51e76855.css"])),g=r(()=>i(()=>import("./BrokenChainTableRegionCell.922caa1a.js"),["assets/BrokenChainTableRegionCell.922caa1a.js","assets/app.947dfe37.js","assets/app.51e76855.css"])),b=r(()=>i(()=>import("./BrokenChainTableConstellationCell.44dccfb3.js"),["assets/BrokenChainTableConstellationCell.44dccfb3.js","assets/app.947dfe37.js","assets/app.51e76855.css"]));E(async()=>{await s.getBrokenChain(),window.Echo.private("broken").listen("BrokenUpdate",e=>{e.flag.flag==1,e.flag.flag==2&&s.removeBroken(e.flag.message),e.flag.flag==3&&s.updateBroken(e.flag.message),e.flag.flag==4,e.flag.flag==5})}),T(async()=>{window.Echo.leave("broken")});let h=c({sortBy:"jumps",descending:!1,page:1,rowsPerPage:0}),w=c([{name:"system",label:"System",align:"left",field:e=>e.solar_system.name,format:e=>`${e}`,sortable:!0},{name:"name_id",label:"SigID",align:"left",field:e=>e.name_id,format:e=>`${e}`,sortable:!0},{name:"region",label:"Region",align:"left",field:e=>e.solar_system.region.name,format:e=>`${e}`,sortable:!0},{name:"constellation",label:"Constellation",align:"left",field:e=>e.solar_system.constellation.name,format:e=>`${e}`,sortable:!0},{name:"jumps",label:"Jumps",align:"left",field:e=>e.jumps_p,format:e=>`${e}`,sortable:!0},{name:"age",label:"Age",align:"left",field:e=>e.created_at,format:e=>{let d=e;return Date.parse(d)},sortable:!0},{name:"claim",align:"right",label:"Claim",sortable:!0},{name:"actions",align:"right",label:"",sortable:!0}]),y=R(()=>{let e=30;return s.size.height-e+"px"});return(e,d)=>(V(),D("div",null,[l(P,{class:"myRound bg-webBack myTableBroken",rows:o(s).brokenChain,columns:w.value,"table-class":"text-webway","table-header-class":"bg-amber","row-key":"id",dense:"",dark:"",ref:"tableRef",rounded:"","hide-bottom":"",color:"amber",pagination:h.value},{top:t(a=>[A]),"body-cell-age":t(a=>[l(m,{props:a},{default:t(()=>[l(o(u),{time:a.value},{default:t(({hours:v,minutes:k,seconds:C})=>[n("span",O,_(v)+":"+_(k)+":"+_(C),1)]),_:2},1032,["time"])]),_:2},1032,["props"])]),"body-cell-actions":t(a=>[l(m,{props:a},{default:t(()=>[n("div",j,[n("div",I,[l(o(f),{item:a.row},null,8,["item"])])])]),_:2},1032,["props"])]),"body-cell-claim":t(a=>[l(m,{props:a},{default:t(()=>[l(o(p),{item:a.row},null,8,["item"])]),_:2},1032,["props"])]),"body-cell-constellation":t(a=>[l(m,{props:a},{default:t(()=>[l(o(b),{item:a.row},null,8,["item"])]),_:2},1032,["props"])]),"body-cell-region":t(a=>[l(m,{props:a},{default:t(()=>[l(o(g),{item:a.row},null,8,["item"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination"])]))}};export{U as default};
