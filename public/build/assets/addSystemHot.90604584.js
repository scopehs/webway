import{a as w,u as C,r as m,c as f,e as x,f as b,g as a,w as r,Q as A,j as Q,ai as g,n as s,aF as k,h as p,E as v,aT as F}from"./app.947dfe37.js";import{C as c}from"./ClosePopup.32ce8d79.js";const V={__name:"addSystemHot",setup(_){const S=w();let l=C(),o=m(),u=m(),d=f(()=>l.getHotAreaSystemList),i=f(()=>u.value?d.value.filter(t=>t.text.toLowerCase().indexOf(u.value)>-1):d.value),y=(t,e,n)=>{e(()=>{u.value=t.toLowerCase(),i.value.length>0&&t&&(o.value=i.value[0])})},h=async()=>{var t={system_id:o.value.value},e=o.value.text;await axios({method:"POST",url:"api/hotarea",withCredentials:!0,data:t,headers:{Accept:"application/json","Content-Type":"application/json"}}).then((o.value=null,l.hotAreaSystemShow=!1)),S.notify({type:"warning",message:e+" has heated up",icon:"fa-solid fa-temperature-full"})};return(t,e)=>(x(),b("div",null,[a(F,{class:"myRound","model-value":s(l).hotAreaSystemShow,anchor:"bottom start",self:"top middle",offset:[0,20],onHide:e[3]||(e[3]=n=>s(l).hotAreaSystemShow=!1)},{default:r(()=>[a(A,{class:"my-card"},{default:r(()=>[a(Q,null,{default:r(()=>[a(g,{ref:"dropNeb",autofocus:"",modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=n=>o.value=n),options:i.value,"input-debounce":"0","option-value":"value","option-label":"text","map-options":"","use-input":"","hide-selected":"",label:"System List",filled:"",onFilter:s(y),"fill-input":""},null,8,["modelValue","options","onFilter"])]),_:1}),a(k,{horizontal:"",align:"evenly"},{default:r(()=>[p(a(v,{flat:"",color:"red",label:"Cancel",onClick:e[1]||(e[1]=n=>s(l).hotAreaSystemShow=!s(l).hotAreaSystemShow)},null,512),[[c]]),p(a(v,{flat:"",color:"green",label:"Save",onClick:e[2]||(e[2]=n=>s(h)())},null,512),[[c]])]),_:1})]),_:1})]),_:1},8,["model-value"])]))}};export{V as default};
