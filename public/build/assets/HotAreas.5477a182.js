import{I as ae,J as le,d as y,a as se,u as oe,o as ie,b as ne,r as c,c as r,f as C,i as a,g as t,w as s,Q as h,_ as w,e as S,j as p,aF as H,E as m,n,k as re,N as k,M as b,T as j,z as V,O as de,P as ue}from"./app.947dfe37.js";import{Q as ce}from"./QBtnGroup.c6ebf1c6.js";import{Q as me}from"./QTd.5e156fed.js";import{Q as pe}from"./QTable.8d314c3a.js";import{Q as P}from"./QInput.0a5b359e.js";const A=v=>(de("data-v-3085b441"),v=v(),ue(),v),_e={class:"q-ma-md"},fe={class:"row full-width full-height justify-around"},ve={class:"col-7"},ge=A(()=>a("div",{class:"row full-width flex-center q-pt-xs myRoundTop bg-primary"},[a("div",{class:"col-12 flex flex-center"},[a("span",{class:"text-h4"},"Hot Areas")])],-1)),ye={class:"row full-width justify-between items-start q-pb-xs"},he={class:"col-8 q-mt-md q-mx-md flex flex-center"},we=A(()=>a("div",{class:"text-h6 text-center text-webway"},"Make a Hotarea",-1)),be={class:"col-3 flex justify-end"},xe={class:"col-4"},Ce={class:"row full-width full-height"},Se={class:"col"},Ae={class:"row full-width q-mb-md"},Te={class:"col"},He={class:"row full-width q-mb-md"},ke={class:"col"},je=A(()=>a("div",{class:"text-h6 text-center"},"Site Setting",-1)),Ve={class:"row full-width"},Pe={class:"col"},Re={class:"row full-width"},Ge={class:"col-12"},Qe={class:"row full-width items-center justify-start"},Ie={class:"col-auto"},qe={class:"col-6 q-mr-md"},Ee={class:"col-auto"},Be={class:"row full-width"},$e={class:"col"},Oe={__name:"HotAreas",setup(v){le(e=>({d78369ae:K.value}));const R=y(()=>w(()=>import("./addSystemHot.90604584.js"),["assets/addSystemHot.90604584.js","assets/app.947dfe37.js","assets/app.51e76855.css","assets/ClosePopup.32ce8d79.js"])),G=y(()=>w(()=>import("./addConstellationHot.4d16a3d9.js"),["assets/addConstellationHot.4d16a3d9.js","assets/app.947dfe37.js","assets/app.51e76855.css","assets/ClosePopup.32ce8d79.js"])),Q=y(()=>w(()=>import("./addRegionHot.0cd0f686.js"),["assets/addRegionHot.0cd0f686.js","assets/app.947dfe37.js","assets/app.51e76855.css","assets/ClosePopup.32ce8d79.js"])),I=y(()=>w(()=>import("./GasHotTable.f9ecacb1.js"),["assets/GasHotTable.f9ecacb1.js","assets/app.947dfe37.js","assets/app.51e76855.css","assets/QTd.5e156fed.js","assets/QTable.8d314c3a.js","assets/ClosePopup.32ce8d79.js","assets/GasHotTable.af81f3de.css"])),T=se();let o=oe();ie(async()=>{window.Echo.private("hotarea").listen("HotAreaUpdate",e=>{e.flag.flag==1&&o.updateHotArea(e.flag.message),e.flag.flag==2&&(_.value=parseInt(e.flag.message)),e.flag.flag==3&&(f.value=parseInt(e.flag.message)),e.flag.flag==4&&o.getNebulaHot(),e.flag.flag==5&&o.getNebulaList()}),await o.setHotArea(),await o.getRegionList(),await o.getSystemList(),await o.getConstellationList(),await o.getNebulaList(),await o.getNebulaHot(),await U.value,await E()}),document.title="Webway - Hot Hot Baby",ne(async()=>{window.Echo.leave("hotarea")});let q=c({sortBy:"system",descending:!1,page:1,rowsPerPage:0});c(!0);let g=c(null),d=c(null),_=c(null),u=c(null),f=c(null);c(!1);let E=async()=>{let e=await axios({method:"get",withCredentials:!0,url:"api/paygas",headers:{Accept:"application/json","Content-Type":"application/json"}});_.value=e.data.num;let l=await axios({method:"get",withCredentials:!0,url:"api/paygasamount",headers:{Accept:"application/json","Content-Type":"application/json"}});f.value=l.data.num,_.value==1?u.value=!0:u.value=!1},B=async()=>{if(d.value)var e=1;else var e=0;await axios({method:"POST",withCredentials:!0,url:"api/setSigShow/"+e,headers:{Accept:"application/json","Content-Type":"application/json"}})},$=async()=>{if(u.value)var e=1;else var e=0;await axios({method:"POST",withCredentials:!0,url:"api/paygas/"+e,headers:{Accept:"application/json","Content-Type":"application/json"}})},O=async()=>{await axios({method:"POST",withCredentials:!0,url:"api/paygasamount/"+f.value,headers:{Accept:"application/json","Content-Type":"application/json"}}).then(T.notify({type:"positive",message:"Price Per Gas Site Updated."}))},L=async()=>{var e={data:g.value};await axios({method:"POST",withCredentials:!0,url:"api/import/jump_bridges",data:e,headers:{Accept:"application/json","Content-Type":"application/json"}})},N=async e=>{e.name,await axios({method:"delete",withCredentials:!0,url:"api/hotarea/"+e.id,headers:{Accept:"application/json","Content-Type":"application/json"}}).then(),T.notify({type:"info",message:"Area has been cooled",icon:"fa-solid fa-temperature-low"}),await o.setHotArea()};const U=r(()=>{o.sigShow==1?d.value=!0:d.value=!1});let D=r(()=>o.hotArea),M=r(()=>o.sigShow==1?"Open":"Close"),z=r(()=>_.value==1?"Paying":"Not Paying"),J=r(()=>_.value!=1),F=c([{name:"system",label:"System",align:"left",field:e=>e.system?e.system.name:"",format:e=>`${e}`,sortable:!0},{name:"constellation",label:"Constellation",align:"left",field:e=>e.constellation?e.constellation.name:"",format:e=>`${e}`,sortable:!0},{name:"region",label:"Region",align:"left",field:e=>e.region?e.region.name:"",format:e=>`${e}`,sortable:!0},{name:"actions",align:"right",label:"",sortable:!0}]),K=r(()=>{let e=50;return o.size.height-e+"px"}),W=r(()=>u.value?"text-primary":"text-warning text-strike"),X=r(()=>u.value?"":"my-class"),Y=r(()=>d.value?"text-primary":"text-warning text-strike"),Z=r(()=>d.value?"":"my-class"),ee=r(()=>d.value?"primary":"warning"),te=r(()=>u.value?"primary":"warning");return(e,l)=>(S(),C("div",null,[a("div",_e,[a("div",fe,[a("div",ve,[t(pe,{title:"Hot Areas",class:"myTableHotAreas myRound bg-webBack",rows:D.value,columns:F.value,"table-class":" text-webway","table-header-class":" text-weight-bolder bg-amber","row-key":"id",ref:"tableRef",dark:"",dense:"",rounded:"",color:"amber","hide-bottom":"",pagination:q.value},{top:s(i=>[ge,a("div",ye,[a("div",he,[t(h,{flat:"",class:"my-card bg-webBack"},{default:s(()=>[t(p,{class:"q-pa-none"},{default:s(()=>[we]),_:1}),t(H,{vertical:"",align:"center"},{default:s(()=>[t(ce,{push:"",rounded:""},{default:s(()=>[t(m,{push:"",label:"System",icon:"timeline",color:"secondary",glossy:"",onClick:l[0]||(l[0]=x=>n(o).hotAreaSystemShow=!n(o).hotAreaSystemShow)},{default:s(()=>[t(n(R))]),_:1}),t(m,{push:"",label:"Constellation",icon:"visibility",color:"secondary",glossy:"",onClick:l[1]||(l[1]=x=>n(o).hotAreaConstellationShow=!n(o).hotAreaConstellationShow)},{default:s(()=>[t(n(G))]),_:1}),t(m,{push:"",label:"Region",icon:"update",color:"secondary",glossy:"",onClick:l[2]||(l[2]=x=>n(o).hotAreaRegionShow=!n(o).hotAreaRegionShow)},{default:s(()=>[t(n(Q))]),_:1})]),_:1})]),_:1})]),_:1})]),a("div",be,[t(m,{flat:"",round:"",dense:"",icon:i.inFullscreen?"fullscreen_exit":"fullscreen",onClick:i.toggleFullscreen,class:"q-ml-md"},null,8,["icon","onClick"])])])]),"body-cell-actions":s(i=>[t(me,{props:i},{default:s(()=>[t(m,{push:"",padding:"none",size:"sm","text-color":"negative",round:"",icon:"fas fa-minus-circle",onClick:x=>n(N)(i.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination"])]),a("div",xe,[a("div",Ce,[a("div",Se,[a("div",Ae,[a("div",Te,[t(h,{class:"my-card myRound"},{default:s(()=>[t(p,{class:"bg-primary text-center text-h6 myCardHeader"},{default:s(()=>[re(" Jump Bridges ")]),_:1}),t(p,null,{default:s(()=>[t(P,{modelValue:g.value,"onUpdate:modelValue":l[3]||(l[3]=i=>g.value=i),label:"Enter Jump Data Here",outlined:"",type:"textarea"},null,8,["modelValue"])]),_:1}),t(H,{vertical:"",align:"center"},{default:s(()=>[t(m,{rounded:"",glossy:"",color:"warning",label:"Update",onClick:l[4]||(l[4]=i=>n(L)()),disable:!g.value},null,8,["disable"])]),_:1})]),_:1})])]),a("div",He,[a("div",ke,[t(h,{class:"my-card myRoundTop"},{default:s(()=>[t(p,{class:"bg-primary myCardHeader"},{default:s(()=>[je]),_:1}),t(p,null,{default:s(()=>[a("div",Ve,[a("div",Pe,[a("div",Re,[a("div",Ge,[t(k,{modelValue:d.value,"onUpdate:modelValue":[l[5]||(l[5]=i=>d.value=i),l[6]||(l[6]=i=>n(B)())],class:b(Z.value),"keep-color":"",color:ee.value},{default:s(()=>[t(j,{mode:"out-in","enter-active-class":"animate__animated animate__flash animate__slow","leave-active-class":"animate__animated animate__flash animate__slow"},{default:s(()=>[(S(),C("span",{key:d.value,class:b(Y.value)}," Sig Table: "+V(M.value),3))]),_:1})]),_:1},8,["modelValue","class","color"])])]),a("div",Qe,[a("div",Ie,[t(k,{modelValue:u.value,"onUpdate:modelValue":[l[7]||(l[7]=i=>u.value=i),l[8]||(l[8]=i=>n($)())],class:b(["text-webway q-mr-md",X.value]),"keep-color":"",color:te.value},{default:s(()=>[t(j,{mode:"out-in","enter-active-class":"animate__animated animate__flash animate__slow","leave-active-class":"animate__animated animate__flash animate__slow"},{default:s(()=>[(S(),C("span",{key:u.value,class:b(W.value)}," Sig Table: "+V(z.value),3))]),_:1})]),_:1},8,["modelValue","class","color"])]),a("div",qe,[t(P,{rounded:"",standout:"",modelValue:f.value,"onUpdate:modelValue":l[9]||(l[9]=i=>f.value=i),modelModifiers:{number:!0},label:"Amount (ISK)",disable:J.value,type:"number"},null,8,["modelValue","disable"])]),a("div",Ee,[t(m,{color:"primary",label:"Update",rounded:"",onClick:l[10]||(l[10]=i=>n(O)())})])])])])]),_:1})]),_:1})])]),a("div",Be,[a("div",$e,[t(h,{class:"my-card myRoundTop"},{default:s(()=>[t(p,{class:"myCardSec myRoundTop"},{default:s(()=>[t(n(I))]),_:1})]),_:1})])])])])])])])]))}},ze=ae(Oe,[["__scopeId","data-v-3085b441"]]);export{ze as default};
