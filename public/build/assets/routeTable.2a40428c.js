import{J as M,u as F,a as H,K,d as i,_ as r,r as v,c as y,e as g,f as b,g as e,w as l,i as a,k as Y,z as w,q as G,n as o,E as c,s as R}from"./app.947dfe37.js";import{Q as u}from"./QTd.5e156fed.js";import{Q as U}from"./QTr.d1fe520f.js";import{Q as W}from"./QTable.8d314c3a.js";import{c as k}from"./copy-to-clipboard.6d423000.js";const X={class:"row full-width justify-around align-baseline"},Z={class:"col flex items-baseline q-pt-sm"},ee={class:"col"},te={class:"row full-width justify-end q-gutter-sm"},oe={class:"col-auto"},le={class:"col-auto"},se={class:"col-auto"},ne={class:"row full-width flex-center q-py-xs myRoundTop bg-primary"},ae={class:"col-10 flex flex-center"},ie=a("span",{class:"text-h4"},"Route ",-1),re={key:0,class:"text-h6"},ue={class:"col-2 flex justify-end"},de=a("div",{class:"row full-width justify-between items-center q-pb-xs"},null,-1),ve={__name:"routeTable",props:{route:Array,setting:Object,savedLink:String,loading:Boolean,avoidCount:Number,text:String,savedJumps:Number},emits:["clearAvoid","routeReserved","avoidConnection"],setup(_,{emit:p}){const d=_;M(n=>({aa8bf3f0:z.value}));let C=F();const f=H();K("can");const h=i(()=>r(()=>import("./cellRouteAge.c30d8afa.js"),["assets/cellRouteAge.c30d8afa.js","assets/app.947dfe37.js","assets/app.51e76855.css"])),T=i(()=>r(()=>import("./cellRouteJumpNumber.bf028406.js"),["assets/cellRouteJumpNumber.bf028406.js","assets/app.947dfe37.js","assets/app.51e76855.css"])),x=i(()=>r(()=>import("./cellRouteJumpType.d157ad08.js"),["assets/cellRouteJumpType.d157ad08.js","assets/app.947dfe37.js","assets/app.51e76855.css"])),E=i(()=>r(()=>import("./cellRouteLife.b63840c8.js"),["assets/cellRouteLife.b63840c8.js","assets/app.947dfe37.js","assets/app.51e76855.css"])),A=i(()=>r(()=>import("./cellRouteMass.f5ada68d.js"),["assets/cellRouteMass.f5ada68d.js","assets/QTooltip.46988d05.js","assets/app.947dfe37.js","assets/app.51e76855.css"])),L=i(()=>r(()=>import("./cellRouteName.8f946adb.js"),["assets/cellRouteName.8f946adb.js","assets/app.947dfe37.js","assets/app.51e76855.css"])),V=i(()=>r(()=>import("./cellRouteRegion.cd0c5098.js"),["assets/cellRouteRegion.cd0c5098.js","assets/app.947dfe37.js","assets/app.51e76855.css"])),P=i(()=>r(()=>import("./cellRouteShipSize.8732bee7.js"),["assets/cellRouteShipSize.8732bee7.js","assets/app.947dfe37.js","assets/app.51e76855.css"])),S=i(()=>r(()=>import("./cellRouteSig.a8c02a11.js"),["assets/cellRouteSig.a8c02a11.js","assets/app.947dfe37.js","assets/app.51e76855.css"])),j=i(()=>r(()=>import("./cellRouteSystemType.97f9c3b6.js"),["assets/cellRouteSystemType.97f9c3b6.js","assets/app.947dfe37.js","assets/app.51e76855.css"])),O=i(()=>r(()=>import("./routeButton.c233fc15.js"),["assets/routeButton.c233fc15.js","assets/app.947dfe37.js","assets/app.51e76855.css","assets/ClosePopup.32ce8d79.js"]));v("dadada");let D=v({sortBy:"jumpNumber",descending:!1,page:1,rowsPerPage:0}),I=()=>{p("clearAvoid")},N=()=>{k(d.text).then(()=>{f.notify({type:"info",message:d.text+" Copied to your clipboard to paste into eve"})})},B=n=>{p("routeReserved",n)},q=n=>{p("avoidConnection",n)},J=()=>{var n="https://webway.apps.gnf.lt/routing?share="+d.savedLink;k(n).then(()=>{f.notify({type:"info",message:n})})},Q=async()=>{var n={link:d.savedLink};await axios({method:"POST",withCredentials:!0,url:"api/saveroute",data:n,headers:{Accept:"application/json","Content-Type":"application/json"}}).then(s=>{f.notify({type:"positive",message:"Route has been Saved"})})};y(()=>!(d.route&&d.savedLink));let $=v([{name:"jumpNumber",label:"*",align:"left"},{name:"system",label:"System",align:"left"},{name:"region",label:"Region",align:"left"},{name:"type",label:"Type",align:"left"},{name:"jumpType",label:"Jump",align:"left"},{name:"sig",label:"Sig",align:"left"},{name:"age",label:"Age",align:"left"},{name:"ship",label:"Ship",align:"left"},{name:"life",label:"Life (H)",align:"left"},{name:"mass",label:"Mass (%)",align:"left"},{name:"actions",label:"",align:"right"}]),z=y(()=>{let n=50;return C.size.height-n+"px"});return(n,s)=>(g(),b("div",null,[e(W,{title:"Connections",loading:_.loading,class:"myRound bg-webBack myTableRouter",rows:d.route,columns:$.value,"table-class":"text-webway","table-header-class":"bg-amber","row-key":"id",dense:"",dark:"",ref:"tableRef",rounded:"",color:"amber",pagination:D.value},{bottom:l(t=>[a("div",X,[a("div",Z,[Y(" You are avoiding "+w(d.avoidCount)+" connections ",1),d.avoidCount>0?(g(),G(c,{key:0,flat:"",class:"q-ml-xs",padding:"none","no-caps":"",color:"info",small:"",label:" - clear",onClick:s[0]||(s[0]=m=>o(I)())})):R("",!0)]),a("div",ee,[a("div",te,[a("div",oe,[e(c,{color:"positive",label:"share",rounded:"",onClick:s[1]||(s[1]=m=>o(J)())})]),a("div",le,[e(c,{color:"primary",label:"save",rounded:"",onClick:s[2]||(s[2]=m=>o(Q)())})]),a("div",se,[e(c,{color:"warning",label:"copy",rounded:"",onClick:s[3]||(s[3]=m=>o(N)())})])])])])]),top:l(t=>[a("div",ne,[a("div",ae,[ie,_.savedJumps>0?(g(),b("span",re," - Saved a total of "+w(_.savedJumps)+" Jumps.",1)):R("",!0)]),a("div",ue,[e(c,{flat:"",padding:"none",round:"",dense:"",icon:t.inFullscreen?"fullscreen_exit":"fullscreen",onClick:t.toggleFullscreen,class:"q-ml-md"},null,8,["icon","onClick"])])]),de]),body:l(t=>[e(U,{props:t},{default:l(()=>[e(u,{key:"jumpNumber",props:t},{default:l(()=>[e(o(T),{item:t.row},null,8,["item"])]),_:2},1032,["props"]),e(u,{key:"system",props:t},{default:l(()=>[e(o(L),{item:t.row},null,8,["item"])]),_:2},1032,["props"]),e(u,{key:"region",props:t},{default:l(()=>[e(o(V),{item:t.row},null,8,["item"])]),_:2},1032,["props"]),e(u,{key:"type",props:t},{default:l(()=>[e(o(j),{item:t.row},null,8,["item"])]),_:2},1032,["props"]),e(u,{key:"jumpType",props:t},{default:l(()=>[e(o(x),{item:t.row},null,8,["item"])]),_:2},1032,["props"]),e(u,{key:"sig",props:t},{default:l(()=>[e(o(S),{item:t.row},null,8,["item"])]),_:2},1032,["props"]),e(u,{key:"age",props:t},{default:l(()=>[e(o(h),{item:t.row},null,8,["item"])]),_:2},1032,["props"]),e(u,{key:"ship",props:t},{default:l(()=>[e(o(P),{item:t.row},null,8,["item"])]),_:2},1032,["props"]),e(u,{key:"life",props:t},{default:l(()=>[e(o(E),{item:t.row},null,8,["item"])]),_:2},1032,["props"]),e(u,{key:"mass",props:t},{default:l(()=>[e(o(A),{item:t.row},null,8,["item"])]),_:2},1032,["props"]),e(u,{key:"actions",props:t},{default:l(()=>[e(o(O),{item:t.row,onAvoidConnection:s[4]||(s[4]=m=>o(q)(m)),onRouteReserved:s[5]||(s[5]=m=>o(B)(m))},null,8,["item"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["loading","rows","columns","pagination"])]))}};export{ve as default};
