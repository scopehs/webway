import{u as y,r,o as w,b as x,c as i,e as k,f as T,g as s,w as l,i as t,E as d,n as c,a_ as C}from"./app.947dfe37.js";import{Q as S}from"./QTd.5e156fed.js";import{Q as q}from"./QTable.8d314c3a.js";const R=t("div",{class:"row full-width flex-center q-pt-xs myRoundTop bg-primary"},[t("div",{class:"col-12 flex flex-center"},[t("span",{class:"text-h4"},"Saved Routes ")])],-1),j={class:"row full-width justify-end"},B={class:"col-auto q-pr-sm q-pb-xs"},E={class:"col-auto"},N={__name:"routeSavedTable",props:{height:Number},setup(u){const p=u;let n=y(),m=r({descending:!1,page:1,rowsPerPage:10});w(async()=>{await n.getSavedRoutes()}),x(async()=>{});let f=async e=>{var a={link:e.link};await axios({method:"DELETE",withCredentials:!0,url:"api/deletesaveroute",data:a,headers:{Accept:"application/json","Content-Type":"application/json"}})},_=async e=>{var a={link:e.link};await axios({method:"POST",withCredentials:!0,url:"api/loadroute",data:a,headers:{Accept:"application/json","Content-Type":"application/json"}})},v=i(()=>n.savedRoutes.saved_routes),h=r([{name:"from",required:!0,label:"From",align:"left",field:e=>e.start_system.name,format:e=>`${e}`,sortable:!0},{name:"to",required:!0,label:"To",align:"left",field:e=>e.end_system.name,format:e=>`${e}`,sortable:!0},{name:"actions",label:"",align:"right"}]),b=i(()=>"height: "+p.height+"px");return(e,a)=>(k(),T("div",null,[s(q,{title:"Connections",class:"myTableSavedRoutes myRound",rows:v.value,columns:h.value,style:C(b.value),"table-class":" text-webway","table-header-class":" text-weight-bolder bg-amber","row-key":"id",dense:"",ref:"tableRef",dark:"",rounded:"",color:"amber",pagination:m.value},{top:l(o=>[R]),"body-cell-actions":l(o=>[s(S,{props:o},{default:l(()=>[t("div",j,[t("div",B,[s(d,{color:"primary",flat:"",round:"",size:"md",padding:"none",icon:"fa-solid fa-upload",onClick:g=>c(_)(o.row)},null,8,["onClick"])]),t("div",E,[s(d,{color:"negative",flat:"",round:"",size:"md",padding:"none",icon:"fa-solid fa-minus-circle",onClick:g=>c(f)(o.row)},null,8,["onClick"])])])]),_:2},1032,["props"])]),_:1},8,["rows","columns","style","pagination"])]))}};export{N as default};
