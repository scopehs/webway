import{d as N,_ as Q,u as U,a as O,o as q,b as B,r as l,c as o,e as n,f as m,g as i,w as c,h as C,v as k,i as d,Q as G,j as x,k as b,l as M,m as z,n as p,F,p as K,T as Y,q as _,s as R,t as H,x as J,y as W,z as X}from"./app.947dfe37.js";const Z={class:"cols-12"},ee={class:"text-h4 text-center q-px-md"},te=d("span",{class:"text-body1"},"Make sure you have added a Eve ESI and then selected a Character from the drop down in the top left.",-1),ae={class:"col-12 bg-primary myRoundTop",style:{height:"40px"}},se={class:"row full-width"},le={class:"col-12"},re={key:0,class:"col-6"},oe={class:"col-6"},ie={__name:"Step",setup(ne){const h=N(()=>Q(()=>import("./systemTable.a8497c76.js"),["assets/systemTable.a8497c76.js","assets/app.947dfe37.js","assets/app.51e76855.css","assets/QTd.5e156fed.js","assets/QTr.d1fe520f.js","assets/QTable.8d314c3a.js","assets/systemTable.3a471e54.css"]));let s=U();const g=O();q(async()=>{await s.getDrifterTypeList(),window.Echo.private("char."+s.selectedChar).listen("CharLocationUpdate",e=>{e.flag.flag==1,e.flag.flag==2,e.flag.flag==3,e.flag.flag==4,e.flag.flag==6&&(w.value=!0),e.flag.flag==7&&(w.value=!1),e.flag.flag==8&&T()}),await s.clearRouteKeeptracking(),s.tracking==!0&&T()}),B(async()=>{window.Echo.leave("char."+s.selectedChar)});let a=l(0);l(1),l(null),l(null),l(null),l(null),l(null),l(null);let P=l(null);l(1),l(!1);let w=l(!1),L=async()=>{await J(()=>{E()})},S=e=>{P.value=e.clipboardData.getData("text");var t={paste:e.clipboardData.getData("text"),system_id:s.currentSystemId};axios({method:"POST",withCredentials:!0,url:"api/signature/post",data:t,headers:{Accept:"application/json","Content-Type":"application/json"}}).then(r=>{r.status==200&&g.notify({type:"positive",message:"Probe Scan has been entered."})}).catch(r=>{r.status==500&&g.notify({type:"negative",message:"Something wrong with the Scan.  Make sure you copied the correct stuff."})})},T=async()=>{let e=await axios({method:"GET",withCredentials:!0,url:"api/getlocationinfo/"+s.selectedChar,headers:{Accept:"application/json","Content-Type":"application/json"}});s.testLocationUpdate(e.data),a.value=e.data.count-1},E=async()=>{let e=await axios({method:"GET",withCredentials:!0,url:"api/getlocationinfobytrackid/"+v.value,headers:{Accept:"application/json","Content-Type":"application/json"}});s.testLocationInfo(e.data)},u=o(()=>s.route),v=o(()=>{var e=a.value,t=u.value[e];return t.id}),j=o(()=>{var e=a.value,t=u.value[e];return t.last_system}),V=o(()=>{var e=a.value,t=u.value[e];return t.current_system}),I=o(()=>{var e=a.value,t=u.value[e];return t.current_system_id}),y=o(()=>{var e=a.value,t=u.value[e];return t.last_system_id}),$=o(()=>s.getLocationCount),f=o(()=>!!s.tracking),A=o(()=>{var e=a.value+1;return a.value>0?u.value[a.value].count==e:!1});return(e,t)=>(n(),m("div",{class:"q-ma-xs overflow-hidden",onPaste:t[2]||(t[2]=(...r)=>p(S)&&p(S)(...r))},[i(H,{mode:"out-in","enter-active-class":"animate__animated animate__zoomIn","leave-active-class":"animate__animated animate__zoomOut"},{default:c(()=>[C((n(),m("div",{class:"row full-width justify-center",key:`${f.value} - No`},[d("div",Z,[i(G,{class:"myRound"},{default:c(()=>[i(x,{class:"myCardHeader bg-primary"},{default:c(()=>[d("div",ee,[b(" YOU ARE NOT TRACKING "),i(M,{color:"warning",name:"fa-solid fa-exclamation-triangle"})])]),_:1}),i(x,null,{default:c(()=>[te]),_:1})]),_:1})])])),[[k,!f.value]]),C((n(),m("div",{class:"row full-width","no-gutters":"",key:`${f.value} - Yes`},[d("div",ae,[i(z,{align:"left",modelValue:a.value,"onUpdate:modelValue":[t[0]||(t[0]=r=>a.value=r),t[1]||(t[1]=r=>p(L)())],class:"text-white bg-primary full-width myRoundTop",ref:"myTabsRef"},{default:c(()=>[(n(!0),m(F,null,K(u.value,(r,D)=>(n(),_(W,{key:`${D}-step`,name:D},{default:c(()=>[b(X(r.current_system.name),1)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),d("div",se,[d("div",le,[i(Y,{mode:"out-in","enter-active-class":"animate__animated animate__lightSpeedInRight","leave-active-class":"animate__animated animate__lightSpeedOutLeft"},{default:c(()=>[$.value>0?(n(),m("div",{class:"row full-width justify-around","no-gutters":"",key:`${a.value}-row`},[A.value?(n(),m("div",re,[(n(),_(p(h),{key:`${v.value}-lastTable`,system:j.value,type:2,routeID:v.value,lo:a.value,currentSystemPropID:I.value,lastSystemPropID:y.value},null,8,["system","routeID","lo","currentSystemPropID","lastSystemPropID"]))])):R("",!0),d("div",oe,[(n(),_(p(h),{key:`${v.value}-currentTable`,system:V.value,lastRouteSystemID:y.value,type:1,routeID:v.value,lo:a.value,currentSystemPropID:I.value,lastSystemPropID:y.value},null,8,["system","lastRouteSystemID","routeID","lo","currentSystemPropID","lastSystemPropID"]))])])):R("",!0)]),_:1})])])])),[[k,f.value]])]),_:1})],32))}};export{ie as default};
