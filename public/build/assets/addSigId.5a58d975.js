import{u as x,r as p,c as y,e as f,f as C,g as i,w as o,aT as Q,Q as B,j as L,q as $,n as s,bk as h,ai as D,aF as j,h as b,E as v}from"./app.947dfe37.js";import{C as w}from"./ClosePopup.32ce8d79.js";const T={__name:"addSigId",props:{sig:Object},setup(u){const S=u;let t=x(),g=p(!1),_=()=>!l.value,c=()=>{l.value=null,g.value=null},r=async()=>{var a={id:S.sig.id,signature_id:l.value.signature_id,modified_by_id:t.user_id,modified_by_name:t.user_name,current_system_id:t.currentSystemId,last_system_id:t.lastSystemId,old_id:l.value.id};await axios({method:"POST",withCredentials:!0,url:"api/addsigid",data:a,headers:{Accept:"application/json","Content-Type":"application/json"}}).then(c())},d=p(),l=p(null),m=y(()=>d.value?t.getCurrentSystemSigsList.filter(a=>a.signature_id.toLowerCase().indexOf(d.value)>-1):t.getCurrentSystemSigsList),k=(a,e,n)=>{e(()=>{d.value=a.toLowerCase(),m.value.length>0&&a&&(l.value=m.value[0])})},I=y(()=>t.getCurrentSystemSigsListCount);return(a,e)=>(f(),C("div",null,[i(v,{color:"warning",class:"myOutLineButton",size:"sm",outline:"",rounded:"",label:"???"},{default:o(()=>[i(Q,{persistent:"","model-value":g.value,class:"myRound"},{default:o(()=>[i(B,{class:"my-card"},{default:o(()=>[i(L,null,{default:o(()=>[I.value>0?(f(),$(D,{rounded:"",dense:"",autofocus:"",modelValue:l.value,"onUpdate:modelValue":[e[0]||(e[0]=n=>l.value=n),e[1]||(e[1]=n=>s(r)())],"input-debounce":"0",options:m.value,label:"Sig ID","label-color":"webway",standout:"",ref:"sigIDRef",onFilter:s(k),"map-options":"","use-input":"","hide-selected":"","fill-input":"",key:`${u.sig.id} - dropdown`,"option-label":"signature_id","option-value":"id",onKeyup:e[2]||(e[2]=h(n=>s(r)(),["enter"]))},null,8,["modelValue","options","onFilter"])):(f(),C("span",{key:`${u.sig.id} - text`}," You need to have a wormhole sig in the table before you can link it. "))]),_:1}),i(j,{align:"around"},{default:o(()=>[b(i(v,{color:"warning",flat:"",label:"Cancel",onClick:e[3]||(e[3]=n=>s(c)())},null,512),[[w]]),b(i(v,{color:"primary",flat:"",label:"Save",onClick:e[4]||(e[4]=n=>s(r)()),disabled:s(_)()},null,8,["disabled"]),[[w]])]),_:1})]),_:1})]),_:1},8,["model-value"])]),_:1})]))}};export{T as default};
